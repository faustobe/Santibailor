sequenceDiagram
    participant UI as Fragment/Activity
    participant VM as RicorrenzaViewModel
    participant Repo as RicorrenzaRepository
    participant DAO as RicorrenzaDao
    participant DB as SQLite Database

    %% Flusso principale
    UI ->> VM: Richiesta dati (es. getRicorrenzeDelGiorno)
    VM ->> Repo: getRicorrenzeDelGiorno
    Repo ->> DAO: getRicorrenzeDelGiorno
    DAO ->> DB: Query su dati del giorno
    DB -->> DAO: Risultato Query
    DAO -->> Repo: Dati del giorno
    Repo -->> VM: Dati del giorno
    VM -->> UI: Dati del giorno

    %% Flusso per Ricorrenze Religiose
    UI ->> VM: Richiesta dati (es. getRicorrenzeReligiose)
    VM ->> Repo: getRicorrenzeReligiose
    Repo ->> DAO: getRicorrenzeConTipo("religioso")
    DAO ->> DB: Query su dati religiosi
    DB -->> DAO: Risultato Query
    DAO -->> Repo: Dati religiosi
    Repo -->> VM: Dati religiosi
    VM -->> UI: Dati religiosi

    %% Flusso per inserimento/aggiornamento/cancellazione
    UI ->> VM: Richiesta di modifica (es. insert/update/delete)
    VM ->> Repo: insert/update/delete
    Repo ->> DAO: insert/update/delete
    DAO ->> DB: Operazione di modifica
    DB -->> DAO: Conferma modifica
    DAO -->> Repo: Conferma modifica
    Repo -->> VM: Conferma modifica
    VM -->> UI: Conferma modifica

    %% Flusso di ricerca avanzata
    UI ->> VM: eseguiRicercaAvanzata
    VM ->> Repo: ricercaAvanzata
    Repo ->> DAO: ricercaAvanzataPaginata
    DAO ->> DB: Query avanzata
    DB -->> DAO: Risultato Query avanzata
    DAO -->> Repo: Dati avanzati
    Repo -->> VM: Dati avanzati
    VM -->> UI: Dati avanzati

    %% Operazioni asincrone
    Repo ->> C10: ExecutorService (per ricercaAvanzataAsync)
    C10 -->> Repo: Avvio operazione asincrona
